# AOC 2025 Day 5

Started a minute late because I got back to my dorm late. Whoops. Also I love sets.

## Part A

Not bad, just converted the rules to ranges based on tuples. 

## Part B

I initially tried to manually create all the elements in each range. This was both memory and time inefficient, so I gave up.

I figured then that I had to do "range math" like [2023 Day 5](/2023/notes/05.md). Since I did it before, I had an idea of what to do. Initially, I was just stopping when I found an overlap, forgetting that multiple overlaps can occur for the same set. Once I fixed that, we had it right. 

## Code

```python
from aocd.models import Puzzle

puzzle = Puzzle(year = 2025, day = 5)
data = puzzle.input_data.split('\n\n')

rules = [word.split('-') for word in data[0].split('\n')]

ranges = set((int(i[0]),int(i[1])) for i in rules)

def part_a():
    count = 0

    for num in data[1].split('\n'):
        num = int(num)
        found = False
        for i,j in ranges:
            if i<=num and num<=j:
                found = True
                break
        if found:
            count += 1
    print(count)
    puzzle.answer_a = count

def part_b():
    unique_ranges = set()
    for nextL, nextR in ranges:
        to_remove = set()
        for L, R in unique_ranges:
            if nextR < L or R < nextL:
                continue
            nextL = min(L, nextL)
            nextR = max(R, nextR)
            to_remove.add((L,R))
        unique_ranges.difference_update(to_remove)
        unique_ranges.add((nextL, nextR))

    count = 0

    for i,j in unique_ranges:
        count += (j-i+1)
    print(count)
    puzzle.answer_b = count

part_a()
part_b()
```